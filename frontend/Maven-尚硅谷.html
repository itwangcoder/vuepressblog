<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Maven学习笔记尚硅谷 | itwangcoder&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/vuepressblog/img/logo.png">
    <meta name="description" content="Maven学习笔记尚硅谷">
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/vuepressblog/assets/css/0.styles.e7a65157.css" as="style"><link rel="preload" href="/vuepressblog/assets/js/app.80634c63.js" as="script"><link rel="preload" href="/vuepressblog/assets/js/3.ef187fa4.js" as="script"><link rel="preload" href="/vuepressblog/assets/js/1.93e2b1ee.js" as="script"><link rel="preload" href="/vuepressblog/assets/js/32.1d419569.js" as="script"><link rel="preload" href="/vuepressblog/assets/js/9.76c7ad5c.js" as="script"><link rel="prefetch" href="/vuepressblog/assets/js/10.987eeee2.js"><link rel="prefetch" href="/vuepressblog/assets/js/11.e2698b0f.js"><link rel="prefetch" href="/vuepressblog/assets/js/12.d1a773de.js"><link rel="prefetch" href="/vuepressblog/assets/js/13.b1124dce.js"><link rel="prefetch" href="/vuepressblog/assets/js/14.d43425cc.js"><link rel="prefetch" href="/vuepressblog/assets/js/15.301d4ee9.js"><link rel="prefetch" href="/vuepressblog/assets/js/16.fb92ba76.js"><link rel="prefetch" href="/vuepressblog/assets/js/17.ad9b924f.js"><link rel="prefetch" href="/vuepressblog/assets/js/18.b28999b2.js"><link rel="prefetch" href="/vuepressblog/assets/js/19.ae4fe37d.js"><link rel="prefetch" href="/vuepressblog/assets/js/20.8648e605.js"><link rel="prefetch" href="/vuepressblog/assets/js/21.afba39d8.js"><link rel="prefetch" href="/vuepressblog/assets/js/22.a421ec88.js"><link rel="prefetch" href="/vuepressblog/assets/js/23.43bb5f78.js"><link rel="prefetch" href="/vuepressblog/assets/js/24.5300c069.js"><link rel="prefetch" href="/vuepressblog/assets/js/25.e5fe554e.js"><link rel="prefetch" href="/vuepressblog/assets/js/26.d4f0f7c0.js"><link rel="prefetch" href="/vuepressblog/assets/js/27.3d604a05.js"><link rel="prefetch" href="/vuepressblog/assets/js/28.5b15f884.js"><link rel="prefetch" href="/vuepressblog/assets/js/29.f763d748.js"><link rel="prefetch" href="/vuepressblog/assets/js/30.2d33ed3c.js"><link rel="prefetch" href="/vuepressblog/assets/js/31.63dec94e.js"><link rel="prefetch" href="/vuepressblog/assets/js/33.dd0d73a3.js"><link rel="prefetch" href="/vuepressblog/assets/js/34.11980da6.js"><link rel="prefetch" href="/vuepressblog/assets/js/35.60c39dd1.js"><link rel="prefetch" href="/vuepressblog/assets/js/36.3eb7aee1.js"><link rel="prefetch" href="/vuepressblog/assets/js/37.9b1bc008.js"><link rel="prefetch" href="/vuepressblog/assets/js/38.05776efb.js"><link rel="prefetch" href="/vuepressblog/assets/js/39.7ae3eed8.js"><link rel="prefetch" href="/vuepressblog/assets/js/4.fadd923b.js"><link rel="prefetch" href="/vuepressblog/assets/js/40.fb2393be.js"><link rel="prefetch" href="/vuepressblog/assets/js/41.5f5dec94.js"><link rel="prefetch" href="/vuepressblog/assets/js/42.b9f6299c.js"><link rel="prefetch" href="/vuepressblog/assets/js/43.b3178a1b.js"><link rel="prefetch" href="/vuepressblog/assets/js/5.b07d85ee.js"><link rel="prefetch" href="/vuepressblog/assets/js/6.cdd119e1.js"><link rel="prefetch" href="/vuepressblog/assets/js/7.fe6c61b0.js"><link rel="prefetch" href="/vuepressblog/assets/js/8.d08f9a62.js">
    <link rel="stylesheet" href="/vuepressblog/assets/css/0.styles.e7a65157.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>itwangcoder's blog</h3> <p class="description" data-v-59e6cb88>我的个人网站</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>itwangcoder</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepressblog/" class="home-link router-link-active"><img src="/vuepressblog/img/logo.png" alt="itwangcoder's blog" class="logo"> <span class="site-name">itwangcoder's blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepressblog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepressblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/vuepressblog/img/logo.png" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    itwangcoder
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>31</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>32</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepressblog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="/vuepressblog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Maven学习笔记尚硅谷</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>itwangcoder</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Maven学习笔记尚硅谷</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>itwangcoder</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/12/20</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>尚硅谷</span><span class="tag-item" data-v-8a445198>Maven</span><span class="tag-item" data-v-8a445198>项目管理工具</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="尚硅谷-maven-教程"><a href="#尚硅谷-maven-教程" class="header-anchor">#</a> 尚硅谷 Maven 教程</h1> <h2 id="第一章-maven-概述"><a href="#第一章-maven-概述" class="header-anchor">#</a> 第一章 Maven 概述</h2> <h3 id="第一节-为什么要学习-maven"><a href="#第一节-为什么要学习-maven" class="header-anchor">#</a> 第一节 为什么要学习 Maven？</h3> <h4 id="_1、maven-作为依赖管理工具"><a href="#_1、maven-作为依赖管理工具" class="header-anchor">#</a> 1、Maven 作为依赖管理工具</h4> <h5 id="_1-jar-包的规模"><a href="#_1-jar-包的规模" class="header-anchor">#</a> ① jar 包的规模</h5> <p>随着我们使用越来越多的框架，或者框架封装程度越来越高，项目中使用的jar包也越来越多。项目中，一个模块里面用到上百个jar包是非常正常的。</p> <p>比如下面的例子，我们只用到 SpringBoot、SpringCloud 框架中的三个功能：</p> <ul><li>Nacos 服务注册发现</li> <li>Web 框架环境</li> <li>视图模板技术 Thymeleaf</li></ul> <p>最终却导入了 106 个 jar 包：</p> <blockquote><p>org.springframework.security:spring-security-rsa:jar:1.0.9.RELEASE:compile
com.netflix.ribbon: ribbon:jar:2.3.0:compile
org.springframework.boot:spring-boot-starter-thymeleaf:jar:2.3.6.RELEASE:compile
commons-configuration:commons-configuration:jar:1.8:compile
org.apache.logging.log4j:log4j-api:jar:2.13.3:compile
org.springframework:spring-beans:jar:5.2.11.RELEASE:compile
org.springframework.cloud:spring-cloud-starter-netflix-ribbon:jar:2.2.6.RELEASE:compile
org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.39:compile
com.alibaba.cloud:spring-cloud-alibaba-commons:jar:2.2.6.RELEASE:compile
org.bouncycastle:bcprov-jdk15on:jar:1.64:compile
org.springframework.security:spring-security-crypto:jar:5.3.5.RELEASE:compile
org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile
com.google.j2objc:j2objc-annotations:jar:1.3:compile
com.fasterxml.jackson.core:jackson-databind:jar:2.11.3:compile
io.reactivex:rxjava:jar:1.3.8:compile
ch.qos.logback:logback-classic:jar:1.2.3:compile
org.springframework:spring-web:jar:5.2.11.RELEASE:compile
io.reactivex:rxnetty-servo:jar:0.4.9:runtime
org.springframework:spring-core:jar:5.2.11.RELEASE:compile
io.github.openfeign.form:feign-form-spring:jar:3.8.0:compile
io.github.openfeign.form:feign-form:jar:3.8.0:compile
com.netflix.ribbon:ribbon-loadbalancer:jar:2.3.0:compile
org.apache.httpcomponents:httpcore:jar:4.4.13:compile
org.thymeleaf.extras:thymeleaf-extras-java8time:jar:3.0.4.RELEASE:compile
org.slf4j:jul-to-slf4j:jar:1.7.30:compile
com.atguigu.demo:demo09-base-entity:jar:1.0-SNAPSHOT:compile
org.yaml:snakeyaml:jar:1.26:compile
org.springframework.boot:spring-boot-starter-logging:jar:2.3.6.RELEASE:compile
io.reactivex:rxnetty-contexts:jar:0.4.9:runtime
org.apache.httpcomponents:httpclient:jar:4.5.13:compile
io.github.openfeign:feign-core:jar:10.10.1:compile
org.springframework.boot:spring-boot-starter-aop:jar:2.3.6.RELEASE:compile
org.hdrhistogram:HdrHistogram:jar:2.1.9:compile
org.springframework:spring-context:jar:5.2.11.RELEASE:compile
commons-lang:commons-lang:jar:2.6:compile
io.prometheus:simpleclient:jar:0.5.0:compile
ch.qos.logback:logback-core:jar:1.2.3:compile
org.springframework:spring-webmvc:jar:5.2.11.RELEASE:compile
com.sun.jersey:jersey-core:jar:1.19.1:runtime
javax.ws.rs:jsr311-api:jar:1.1.1:runtime
javax.inject:javax.inject:jar:1:runtime
org.springframework.cloud:spring-cloud-openfeign-core:jar:2.2.6.RELEASE:compile
com.netflix.ribbon:ribbon-core:jar:2.3.0:compilecom.netflix.hystrix:hystrix-core:jar:1.5.18:compilecom.netflix.ribbon:ribbon-transport:jar:2.3.0:runtime
org.springframework.boot:spring-boot-starter-json:jar:2.3.6.RELEASE:compile
org.springframework.cloud:spring-cloud-starter-openfeign:jar:2.2.6.RELEASE:compile
com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.11.3:compile
com.sun.jersey.contribs:jersey-apache-client4:jar:1.19.1:runtime
io.github.openfeign:feign-hystrix:jar:10.10.1:compile
io.github.openfeign:feign-slf4j:jar:10.10.1:compile
com.alibaba.nacos:nacos-client:jar:1.4.2:compile
org.apache.httpcomponents:httpcore-nio:jar:4.4.13:compile
com.sun.jersey:jersey-client:jar:1.19.1:runtime
org.springframework.cloud:spring-cloud-context:jar:2.2.6.RELEASE:compile
org.glassfish:jakarta.el:jar:3.0.3:compile
org.apache.logging.log4j:log4j-to-slf4j:jar:2.13.3:compile
com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.11.3:compile
org.springframework.cloud:spring-cloud-commons:jar:2.2.6.RELEASE:compile
org.aspectj:aspectjweaver:jar:1.9.6:compile
com.alibaba.cloud:spring-cloud-starter-alibaba-nacos-discovery:jar:2.2.6.RELEASE:compile
com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile
com.alibaba.spring:spring-context-support:jar:1.0.10:compile
jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile
org.bouncycastle:bcpkix-jdk15on:jar:1.64:compile
com.netflix.netflix-commons:netflix-commons-util:jar:0.3.0:runtime
com.fasterxml.jackson.core:jackson-annotations:jar:2.11.3:compile
com.google.guava:guava:jar:29.0-jre:compile
com.google.guava:failureaccess:jar:1.0.1:compile
org.springframework.boot:spring-boot:jar:2.3.6.RELEASE:compile
com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.11.3:compile
com.atguigu.demo:demo08-base-api:jar:1.0-SNAPSHOT:compile
org.springframework.cloud:spring-cloud-starter-netflix-archaius:jar:2.2.6.RELEASE:compile
org.springframework.boot:spring-boot-autoconfigure:jar:2.3.6.RELEASE:compile
org.slf4j:slf4j-api:jar:1.7.30:compile
commons-io:commons-io:jar:2.7:compile
org.springframework.cloud:spring-cloud-starter:jar:2.2.6.RELEASE:compile
org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.39:compile
io.reactivex:rxnetty:jar:0.4.9:runtime
com.fasterxml.jackson.core:jackson-core:jar:2.11.3:compile
com.google.code.findbugs:jsr305:jar:3.0.2:compile
com.netflix.archaius:archaius-core:jar:0.7.6:compile
org.springframework.boot:spring-boot-starter-web:jar:2.3.6.RELEASE:compile
commons-codec:commons-codec:jar:1.14:compile
com.netflix.servo:servo-core:jar:0.12.21:runtime
com.google.errorprone:error_prone_annotations:jar:2.3.4:compile
org.attoparser:attoparser:jar:2.0.5.RELEASE:compile
com.atguigu.demo:demo10-base-util:jar:1.0-SNAPSHOT:compile
org.checkerframework:checker-qual:jar:2.11.1:compile
org.thymeleaf:thymeleaf-spring5:jar:3.0.11.RELEASE:compile
commons-fileupload:commons-fileupload:jar:1.4:compile
com.netflix.ribbon:ribbon-httpclient:jar:2.3.0:compile
com.netflix.netflix-commons:netflix-statistics:jar:0.1.1:runtime
org.unbescape:unbescape:jar:1.1.6.RELEASE:compile
org.springframework:spring-jcl:jar:5.2.11.RELEASE:compile
com.alibaba.nacos:nacos-common:jar:1.4.2:compile
commons-collections:commons-collections:jar:3.2.2:runtime
javax.persistence:persistence-api:jar:1.0:compile
com.alibaba.nacos:nacos-api:jar:1.4.2:compileorg.thymeleaf:thymeleaf:jar:3.0.11.RELEASE:compile
org.springframework:spring-aop:jar:5.2.11.RELEASE:compile
org.springframework.boot:spring-boot-starter:jar:2.3.6.RELEASE:compile
org.springframework.boot:spring-boot-starter-tomcat:jar:2.3.6.RELEASE:compile
org.springframework.cloud:spring-cloud-netflix-ribbon:jar:2.2.6.RELEASE:compile
org.springframework:spring-expression:jar:5.2.11.RELEASE:compile
org.springframework.cloud:spring-cloud-netflix-archaius:jar:2.2.6.RELEASE:compile</p></blockquote> <p>而如果使用 Maven 来引入这些 jar 包只需要配置三个『依赖』：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- Nacos 服务注册发现启动器 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- web启动器依赖 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- 视图模板技术 thymeleaf --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_2-jar-包的来源"><a href="#_2-jar-包的来源" class="header-anchor">#</a> ② jar 包的来源</h5> <ul><li>这个jar包所属技术的官网。官网通常是英文界面，网站的结构又不尽相同，甚至找到下载链接还发现需要通过特殊的工具下载。</li> <li>第三方网站提供下载。问题是不规范，在使用过程中会出现各种问题。
<ul><li>jar包的名称</li> <li>jar包的版本</li> <li>jar包内的具体细节</li></ul></li> <li>而使用 Maven 后，依赖对应的 jar 包能够自动下载，方便、快捷又规范。</li></ul> <h5 id="_3-jar-包之间的依赖关系"><a href="#_3-jar-包之间的依赖关系" class="header-anchor">#</a> ③ jar 包之间的依赖关系</h5> <p>框架中使用的 jar 包，不仅数量庞大，而且彼此之间存在错综复杂的依赖关系。依赖关系的复杂程度，已经上升到了完全不能靠人力手动解决的程度。另外，jar 包之间有可能产生冲突。进一步增加了我们在 jar 包使用过程中的难度。</p> <p>下面是前面例子中 jar 包之间的依赖关系：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A6%82%E8%BF%B0/jar%E5%8C%85%E4%B9%8B%E9%97%B4%E7%9A%84%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.png" alt=""></p> <p>而实际上 jar 包之间的依赖关系是普遍存在的，如果要由程序员手动梳理无疑会增加极高的学习成本，而这些工作又对实现业务功能毫无帮助。</p> <p>而使用 Maven 则几乎不需要管理这些关系，极个别的地方调整一下即可，极大的减轻了我们的工作量。</p> <h4 id="_2、maven-作为构建管理工具"><a href="#_2、maven-作为构建管理工具" class="header-anchor">#</a> 2、Maven 作为构建管理工具</h4> <h5 id="_1-你没有注意过的构建"><a href="#_1-你没有注意过的构建" class="header-anchor">#</a> ① 你没有注意过的构建</h5> <p>你可以不使用 Maven，但是构建必须要做。当我们使用 IDEA 进行开发时，构建是 IDEA 替我们做的。</p> <h5 id="_2-脱离-ide-环境仍需构建"><a href="#_2-脱离-ide-环境仍需构建" class="header-anchor">#</a> ② 脱离 IDE 环境仍需构建</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A6%82%E8%BF%B0/%E8%84%B1%E7%A6%BBIDE%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BAMaven.png" alt=""></p> <h4 id="_3、结论"><a href="#_3、结论" class="header-anchor">#</a> 3、结论</h4> <ul><li>管理规模庞大的 jar 包，需要专门工具。</li> <li>脱离 IDE 环境执行构建操作，需要专门工具。</li></ul> <h3 id="第二节-什么是-maven"><a href="#第二节-什么是-maven" class="header-anchor">#</a> 第二节 什么是 Maven？</h3> <p>Maven 是 Apache 软件基金会组织维护的一款专门为 Java 项目提供<strong>构建</strong>和<strong>依赖</strong>管理支持的工具。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A6%82%E8%BF%B0/Maven%E6%A0%87%E7%AD%BE.png" alt=""></p> <h4 id="_1、构建"><a href="#_1、构建" class="header-anchor">#</a> 1、构建</h4> <p>Java 项目开发过程中，构建指的是使用『原材料生产产品』的过程。</p> <ul><li>原材料
<ul><li>Java 源代码</li> <li>基于 HTML 的 Thymeleaf 文件</li> <li>图片</li> <li>配置文件</li> <li>……</li></ul></li> <li>产品
<ul><li>一个可以在服务器上运行的项目</li></ul></li></ul> <p>构建过程包含的主要的环节：</p> <ul><li>清理：删除上一次构建的结果，为下一次构建做好准备</li> <li>编译：Java 源程序编译成 *.class 字节码文件</li> <li>测试：运行提前准备好的测试程序</li> <li>报告：针对刚才测试的结果生成一个全面的信息</li> <li>打包
<ul><li>Java工程：jar包</li> <li>Web工程：war包</li></ul></li> <li>安装：把一个 Maven 工程经过打包操作生成的 jar 包或 war 包存入Maven的本地仓库</li> <li>部署
<ul><li>部署 jar 包：把一个 jar 包部署到 Nexus 私服服务器上</li> <li>部署 war 包：借助相关 Maven 插件（例如 cargo），将 war 包部署到 Tomcat 服务器上</li></ul></li></ul> <h4 id="_2、依赖"><a href="#_2、依赖" class="header-anchor">#</a> 2、依赖</h4> <p>如果 A 工程里面用到了 B 工程的类、接口、配置文件等等这样的资源，那么我们就可以说 A 依赖 B。例如：</p> <ul><li>junit-4.12 依赖 hamcrest-core-1.3</li> <li>thymeleaf-3.0.12.RELEASE 依赖 ognl-3.1.26
<ul><li>ognl-3.1.26 依赖 javassist-3.20.0-GA</li></ul></li> <li>thymeleaf-3.0.12.RELEASE 依赖 attoparser-2.0.5.RELEASE</li> <li>thymeleaf-3.0.12.RELEASE 依赖 unbescape-1.1.6.RELEASE</li> <li>thymeleaf-3.0.12.RELEASE 依赖 slf4j-api-1.7.26</li></ul> <p>依赖管理中要解决的具体问题：</p> <ul><li>jar 包的下载：使用 Maven 之后，jar 包会从规范的远程仓库下载到本地</li> <li>jar 包之间的依赖：通过依赖的传递性自动完成</li> <li>jar 包之间的冲突：通过对依赖的配置进行调整，让某些jar包不会被导入</li></ul> <h4 id="_3、maven-的工作机制"><a href="#_3、maven-的工作机制" class="header-anchor">#</a> 3、Maven 的工作机制</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A6%82%E8%BF%B0/Maven%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6.png" alt=""></p> <h2 id="第二章-maven-核心程序解压和配置"><a href="#第二章-maven-核心程序解压和配置" class="header-anchor">#</a> 第二章 Maven 核心程序解压和配置</h2> <h3 id="第一节-maven-核心解压与配置"><a href="#第一节-maven-核心解压与配置" class="header-anchor">#</a> 第一节 Maven 核心解压与配置</h3> <h4 id="_1、maven-官网地址"><a href="#_1、maven-官网地址" class="header-anchor">#</a> 1、Maven 官网地址</h4> <p>首页：</p> <p><a href="https://maven.apache.org/" target="_blank" rel="noopener noreferrer">Maven – Welcome to Apache Maven(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>下载页面：</p> <p><a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener noreferrer">Maven – Download Apache Maven(opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>下载链接：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%8E%8B%E4%B8%8E%E9%85%8D%E7%BD%AE/Maven%E4%B8%8B%E8%BD%BD%E9%93%BE%E6%8E%A5.png" alt=""></p> <p>具体下载地址：<a href="https://dlcdn.apache.org/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.zip" target="_blank" rel="noopener noreferrer">https://dlcdn.apache.org/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.zip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_2、解压maven核心程序"><a href="#_2、解压maven核心程序" class="header-anchor">#</a> 2、解压Maven核心程序</h4> <p>核心程序压缩包：apache-maven-3.8.4-bin.zip，解压到<span style="color:blue;font-weight:bold;">非中文、没有空格</span>的目录。例如：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%8E%8B%E4%B8%8E%E9%85%8D%E7%BD%AE/%E8%A7%A3%E5%8E%8BMaven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F.png" alt=""></p> <p>在解压目录中，我们需要着重关注 Maven 的核心配置文件：<span style="color:blue;font-weight:bold;">conf/settings.xml</span></p> <h4 id="_3、指定本地仓库"><a href="#_3、指定本地仓库" class="header-anchor">#</a> 3、指定本地仓库</h4> <p>本地仓库默认值：用户家目录/.m2/repository。由于本地仓库的默认位置是在用户的家目录下，而家目录往往是在 C 盘，也就是系统盘。将来 Maven 仓库中 jar 包越来越多，仓库体积越来越大，可能会拖慢 C 盘运行速度，影响系统性能。所以建议将 Maven 的本地仓库放在其他盘符下。配置方式如下：</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- localRepository
| The path to the local repository maven will use to store artifacts.
|
| Default: ${user.home}/.m2/repository
&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt;
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localRepository</span><span class="token punctuation">&gt;</span></span>D:\maven-repository<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>localRepository</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>本地仓库这个目录，我们手动创建一个空的目录即可。</p> <p>记住：一定要把 localRepository 标签从注释中拿出来。</p> <p>注意：本地仓库本身也需要使用一个非中文、没有空格的目录。</p> <h4 id="_4、配置阿里云提供的镜像仓库"><a href="#_4、配置阿里云提供的镜像仓库" class="header-anchor">#</a> 4、配置阿里云提供的镜像仓库</h4> <p>Maven 下载 jar 包默认访问境外的中央仓库，而国外网站速度很慢。改成阿里云提供的镜像仓库，访问国内网站，可以让 Maven 下载 jar 包的时候速度更快。配置的方式是：</p> <h5 id="_1将原有的例子配置注释掉"><a href="#_1将原有的例子配置注释掉" class="header-anchor">#</a> ①将原有的例子配置注释掉</h5> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- &lt;mirror&gt;
  &lt;id&gt;maven-default-http-blocker&lt;/id&gt;
  &lt;mirrorOf&gt;external:http:*&lt;/mirrorOf&gt;
  &lt;name&gt;Pseudo repository to mirror external repositories initially using HTTP.&lt;/name&gt;
  &lt;url&gt;http://0.0.0.0/&lt;/url&gt;
  &lt;blocked&gt;true&lt;/blocked&gt;
&lt;/mirror&gt; --&gt;</span>
</code></pre></div><h5 id="_2加入我们的配置"><a href="#_2加入我们的配置" class="header-anchor">#</a> ②加入我们的配置</h5> <p>将下面 mirror 标签整体复制到 settings.xml 文件的 mirrors 标签的内部。</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>nexus-aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>central<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5、配置-maven-工程的基础-jdk-版本"><a href="#_5、配置-maven-工程的基础-jdk-版本" class="header-anchor">#</a> 5、配置 Maven 工程的基础 JDK 版本</h4> <p>如果按照默认配置运行，Java 工程使用的默认 JDK 版本是 1.5，而我们熟悉和常用的是 JDK 1.8 版本。修改配置的方式是：将 profile 标签整个复制到 settings.xml 文件的 profiles 标签内。</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>jdk-1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeByDefault</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdk</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdk</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activation</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.compilerVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="第二节-配置环境变量"><a href="#第二节-配置环境变量" class="header-anchor">#</a> 第二节 配置环境变量</h3> <h4 id="_1、检查-java-home-配置是否正确"><a href="#_1、检查-java-home-配置是否正确" class="header-anchor">#</a> 1、检查 JAVA_HOME 配置是否正确</h4> <p>Maven 是一个用 Java 语言开发的程序，它必须基于 JDK 来运行，需要通过 JAVA_HOME 来找到 JDK 的安装位置。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%8E%8B%E4%B8%8E%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%A3%80%E6%9F%A5JAVA_HOME%E9%85%8D%E7%BD%AE.png" alt=""></p> <p>可以使用下面的命令验证：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>echo %JAVA_HOME%
D:<span class="token punctuation">\</span>software<span class="token punctuation">\</span>Java

C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>java <span class="token parameter variable">-version</span>
<span class="token function">java</span> version <span class="token string">&quot;1.8.0_141&quot;</span>
Java<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> SE Runtime Environment <span class="token punctuation">(</span>build <span class="token number">1.8</span>.0_141-b15<span class="token punctuation">)</span>
Java HotSpot<span class="token punctuation">(</span>TM<span class="token punctuation">)</span> <span class="token number">64</span>-Bit Server VM <span class="token punctuation">(</span>build <span class="token number">25.141</span>-b15, mixed mode<span class="token punctuation">)</span>
</code></pre></div><h4 id="_2、配置-maven-home"><a href="#_2、配置-maven-home" class="header-anchor">#</a> 2、配置 MAVEN_HOME</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%8E%8B%E4%B8%8E%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AEMAVEN_HOME.png" alt=""></p> <h4 id="_3、配置path"><a href="#_3、配置path" class="header-anchor">#</a> 3、配置PATH</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/Maven%E6%A0%B8%E5%BF%83%E7%A8%8B%E5%BA%8F%E8%A7%A3%E5%8E%8B%E4%B8%8E%E9%85%8D%E7%BD%AE/%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AEPATH.png" alt=""></p> <h4 id="_4、验证"><a href="#_4、验证" class="header-anchor">#</a> 4、验证</h4> <div class="language-Bash extra-class"><pre class="language-bash"><code>C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Administrator<span class="token operator">&gt;</span>mvn <span class="token parameter variable">-v</span>
Apache Maven <span class="token number">3.8</span>.4 <span class="token punctuation">(</span>9b656c72d54e5bacbed989b64718c159fe39b537<span class="token punctuation">)</span>
Maven home: D:<span class="token punctuation">\</span>software<span class="token punctuation">\</span>apache-maven-3.8.4
Java version: <span class="token number">1.8</span>.0_141, vendor: Oracle Corporation, runtime: D:<span class="token punctuation">\</span>software<span class="token punctuation">\</span>Java<span class="token punctuation">\</span>jre
Default locale: zh_CN, platform encoding: GBK
OS name: <span class="token string">&quot;windows 10&quot;</span>, version: <span class="token string">&quot;10.0&quot;</span>, arch: <span class="token string">&quot;amd64&quot;</span>, family: <span class="token string">&quot;windows&quot;</span>
</code></pre></div><h2 id="第三章-使用-maven-命令行"><a href="#第三章-使用-maven-命令行" class="header-anchor">#</a> 第三章 使用 Maven：命令行</h2> <h3 id="实验一-根据坐标创建-maven-工程"><a href="#实验一-根据坐标创建-maven-工程" class="header-anchor">#</a> 实验一：根据坐标创建 Maven 工程</h3> <h4 id="_1、maven-核心概念-坐标"><a href="#_1、maven-核心概念-坐标" class="header-anchor">#</a> 1、Maven 核心概念：坐标</h4> <h5 id="_1数学中的坐标"><a href="#_1数学中的坐标" class="header-anchor">#</a> ①数学中的坐标</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B8%80%E6%95%B0%E5%AD%A6%E5%9D%90%E6%A0%87.png" alt=""></p> <p>使用 x、y、z 三个『向量』作为空间的坐标系，可以在『空间』中唯一的定位到一个『点』。</p> <h5 id="_2maven中的坐标"><a href="#_2maven中的坐标" class="header-anchor">#</a> ②Maven中的坐标</h5> <h6 id="_1-向量说明"><a href="#_1-向量说明" class="header-anchor">#</a> [1]向量说明</h6> <p>使用三个『向量』在『Maven的仓库』中<strong>唯一的定位</strong>到一个『jar』包。</p> <ul><li>groupId：公司或组织的 id</li> <li>artifactId：一个项目或者是项目中的一个模块的 id</li> <li>version：版本号</li></ul> <h6 id="_2-三个向量的取值方式"><a href="#_2-三个向量的取值方式" class="header-anchor">#</a> [2]三个向量的取值方式</h6> <ul><li>groupId：公司或组织域名的倒序，通常也会加上项目名称
<ul><li>例如：com.atguigu.maven</li></ul></li> <li>artifactId：模块的名称，将来作为 Maven 工程的工程名</li> <li>version：模块的版本号，根据自己的需要设定
<ul><li>例如：SNAPSHOT 表示快照版本，正在迭代过程中，不稳定的版本</li> <li>例如：RELEASE 表示正式版本</li></ul></li></ul> <p>举例：</p> <ul><li>groupId：com.atguigu.maven</li> <li>artifactId：pro01-atguigu-maven</li> <li>version：1.0-SNAPSHOT</li></ul> <h5 id="_3坐标和仓库中-jar-包的存储路径之间的对应关系"><a href="#_3坐标和仓库中-jar-包的存储路径之间的对应关系" class="header-anchor">#</a> ③坐标和仓库中 jar 包的存储路径之间的对应关系</h5> <p>坐标：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上面坐标对应的 jar 包在 Maven 本地仓库中的位置：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>Maven本地仓库根目录<span class="token punctuation">\</span>javax<span class="token punctuation">\</span>servlet<span class="token punctuation">\</span>servlet-api<span class="token punctuation">\</span><span class="token number">2.5</span><span class="token punctuation">\</span>servlet-api-2.5.jar
</code></pre></div><p>一定要学会根据坐标到本地仓库中找到对应的 jar 包。</p> <h4 id="_2、实验操作"><a href="#_2、实验操作" class="header-anchor">#</a> 2、实验操作</h4> <h5 id="_1创建目录作为后面操作的工作空间"><a href="#_1创建目录作为后面操作的工作空间" class="header-anchor">#</a> ①创建目录作为后面操作的工作空间</h5> <p>其实就是一个普通的目录，在这个目录下我们要去写代码、开发应用程序</p> <p>例如：D:\maven-workspace\space201026</p> <blockquote><p>此时我们已经有了三个目录，分别是：
★Maven 核心程序：中军大帐
★Maven 本地仓库：兵营
★本地工作空间：战场</p></blockquote> <h5 id="_2在工作空间目录下打开命令行窗口"><a href="#_2在工作空间目录下打开命令行窗口" class="header-anchor">#</a> ②在工作空间目录下打开命令行窗口</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B8%80%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4%E7%9B%AE%E5%BD%95%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AA%97%E5%8F%A3.png" alt=""></p> <h5 id="_3使用命令生成maven工程"><a href="#_3使用命令生成maven工程" class="header-anchor">#</a> ③使用命令生成Maven工程</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B8%80%E4%BD%BF%E7%94%A8%E5%91%BD%E4%BB%A4%E7%94%9F%E6%88%90Maven%E5%B7%A5%E7%A8%8B.png" alt=""></p> <p>运行 mvn archetype:generate 命令</p> <p>下面根据提示操作</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>Choose a number or apply filter <span class="token punctuation">(</span>format: <span class="token punctuation">[</span>groupId:<span class="token punctuation">]</span>artifactId, <span class="token keyword">case</span> sensitive contains<span class="token punctuation">)</span>: <span class="token number">7</span>:【直接回车，使用默认值】

Define value <span class="token keyword">for</span> property <span class="token string">'groupId'</span><span class="token builtin class-name">:</span> com.atguigu.maven

Define value <span class="token keyword">for</span> property <span class="token string">'artifactId'</span><span class="token builtin class-name">:</span> pro01-maven-java

Define value <span class="token keyword">for</span> property <span class="token string">'version'</span> <span class="token number">1.0</span>-SNAPSHOT: :【直接回车，使用默认值】

Define value <span class="token keyword">for</span> property <span class="token string">'package'</span> com.atguigu.maven: :【直接回车，使用默认值】

Confirm properties configuration: groupId: com.atguigu.maven artifactId: pro01-maven-java version: <span class="token number">1.0</span>-SNAPSHOT package: com.atguigu.maven Y: :【直接回车，表示确认。如果前面有输入错误，想要重新输入，则输入 N 再回车。】
</code></pre></div><h5 id="_4调整"><a href="#_4调整" class="header-anchor">#</a> ④调整</h5> <p>Maven 默认生成的工程，对 junit 依赖的是较低的 3.8.1 版本，我们可以改成较适合的 4.12 版本。</p> <p>自动生成的 App.java 和 AppTest.java 可以删除。</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 依赖信息配置 --&gt;</span>
<span class="token comment">&lt;!-- dependencies复数标签：里面包含dependency单数标签 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- dependency单数标签：配置一个具体的依赖 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 通过坐标来依赖其他jar包 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- 依赖的范围 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_5自动生成的-pom-xml-解读"><a href="#_5自动生成的-pom-xml-解读" class="header-anchor">#</a> ⑤自动生成的 pom.xml 解读</h5> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token comment">&lt;!-- 当前Maven工程的坐标 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token comment">&lt;!-- 当前Maven工程的打包方式，可选值有下面三种： --&gt;</span>
  <span class="token comment">&lt;!-- jar：表示这个工程是一个Java工程  --&gt;</span>
  <span class="token comment">&lt;!-- war：表示这个工程是一个Web工程 --&gt;</span>
  <span class="token comment">&lt;!-- pom：表示这个工程是“管理其他工程”的工程 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">&gt;</span></span>http://maven.apache.org<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 工程构建过程中读取源码时使用的字符集 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 当前工程所依赖的jar包 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 使用dependency配置一个具体的依赖 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  
    <span class="token comment">&lt;!-- 在dependency标签内使用具体的坐标依赖我们需要的一个jar包 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token comment">&lt;!-- scope标签配置依赖的范围 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3、maven核心概念-pom"><a href="#_3、maven核心概念-pom" class="header-anchor">#</a> 3、Maven核心概念：POM</h4> <h5 id="_1含义"><a href="#_1含义" class="header-anchor">#</a> ①含义</h5> <p>POM：Project Object Model，项目对象模型。和 POM 类似的是：DOM（Document Object Model），文档对象模型。它们都是模型化思想的具体体现。</p> <h5 id="_2模型化思想"><a href="#_2模型化思想" class="header-anchor">#</a> ②模型化思想</h5> <p>POM 表示将工程抽象为一个模型，再用程序中的对象来描述这个模型。这样我们就可以用程序来管理项目了。我们在开发过程中，最基本的做法就是将现实生活中的事物抽象为模型，然后封装模型相关的数据作为一个对象，这样就可以在程序中计算与现实事物相关的数据。</p> <h5 id="_3对应的配置文件"><a href="#_3对应的配置文件" class="header-anchor">#</a> ③对应的配置文件</h5> <p>POM 理念集中体现在 Maven 工程根目录下 pom.xml 这个配置文件中。所以这个 pom.xml 配置文件就是 Maven 工程的核心配置文件。其实学习 Maven 就是学这个文件怎么配置，各个配置有什么用。</p> <h4 id="_4、maven核心概念-约定的目录结构"><a href="#_4、maven核心概念-约定的目录结构" class="header-anchor">#</a> 4、Maven核心概念：约定的目录结构</h4> <h5 id="_1各个目录的作用"><a href="#_1各个目录的作用" class="header-anchor">#</a> ①各个目录的作用</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B8%80%E5%90%84%E4%B8%AA%E7%9B%AE%E5%BD%95%E7%9A%84%E4%BD%9C%E7%94%A8.png" alt=""></p> <p>另外还有一个 target 目录专门存放构建操作输出的结果。</p> <h5 id="_2约定目录结构的意义"><a href="#_2约定目录结构的意义" class="header-anchor">#</a> ②约定目录结构的意义</h5> <p>Maven 为了让构建过程能够尽可能<strong>自动化</strong>完成，所以必须约定目录结构的作用。例如：Maven 执行编译操作，必须先去 Java 源程序目录读取 Java 源代码，然后执行编译，最后把编译结果存放在 target 目录。</p> <h5 id="_3约定大于配置"><a href="#_3约定大于配置" class="header-anchor">#</a> ③约定大于配置</h5> <p>Maven 对于目录结构这个问题，没有采用配置的方式，而是基于约定。这样会让我们在开发过程中非常方便。如果每次创建 Maven 工程后，还需要针对各个目录的位置进行详细的配置，那肯定非常麻烦。</p> <p>目前开发领域的技术发展趋势就是：约定大于配置，配置大于编码。</p> <h3 id="实验二-在-maven-工程中编写代码"><a href="#实验二-在-maven-工程中编写代码" class="header-anchor">#</a> 实验二：在 Maven 工程中编写代码</h3> <h4 id="_1、主体程序"><a href="#_1、主体程序" class="header-anchor">#</a> 1、主体程序</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%BA%8C%E4%B8%BB%E4%BD%93%E7%A8%8B%E5%BA%8F.png" alt=""></p> <p>主体程序指的是被测试的程序，同时也是将来在项目中真正要使用的程序。</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven</span><span class="token punctuation">;</span>
  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> i <span class="token operator">+</span> j<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2、测试程序"><a href="#_2、测试程序" class="header-anchor">#</a> 2、测试程序</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%BA%8C%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F.png" alt=""></p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven</span><span class="token punctuation">;</span>
  
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven<span class="token punctuation">.</span></span><span class="token class-name">Calculator</span></span><span class="token punctuation">;</span>
  
<span class="token comment">// 静态导入的效果是将Assert类中的静态资源导入当前类</span>
<span class="token comment">// 这样一来，在当前类中就可以直接使用Assert类中的静态资源，不需要写类名</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>
  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CalculatorTest</span><span class="token punctuation">{</span>
  
  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    <span class="token comment">// 1.创建Calculator对象</span>
    <span class="token class-name">Calculator</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2.调用Calculator对象的方法，获取到程序运行实际的结果</span>
    <span class="token keyword">int</span> actualResult <span class="token operator">=</span> calculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 3.声明一个变量，表示程序运行期待的结果</span>
    <span class="token keyword">int</span> expectedResult <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 4.使用断言来判断实际结果和期待结果是否一致</span>
    <span class="token comment">// 如果一致：测试通过，不会抛出异常</span>
    <span class="token comment">// 如果不一致：抛出异常，测试失败</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span>expectedResult<span class="token punctuation">,</span> actualResult<span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="实验三-执行-maven-的构建命令"><a href="#实验三-执行-maven-的构建命令" class="header-anchor">#</a> 实验三：执行 Maven 的构建命令</h3> <h4 id="_1、要求"><a href="#_1、要求" class="header-anchor">#</a> 1、要求</h4> <p>运行 Maven 中和构建操作相关的命令时，必须进入到 pom.xml 所在的目录。如果没有在 pom.xml 所在的目录运行 Maven 的构建命令，那么会看到下面的错误信息：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>The goal you specified requires a project to execute but there is no POM <span class="token keyword">in</span> this directory
</code></pre></div><blockquote><p>mvn -v 命令和构建操作无关，只要正确配置了 PATH，在任何目录下执行都可以。而构建相关的命令要在 pom.xml 所在目录下运行——操作哪个工程，就进入这个工程的 pom.xml 目录。</p></blockquote> <h4 id="_2、清理操作"><a href="#_2、清理操作" class="header-anchor">#</a> 2、清理操作</h4> <p>mvn clean</p> <p>效果：删除 target 目录</p> <h4 id="_3、编译操作"><a href="#_3、编译操作" class="header-anchor">#</a> 3、编译操作</h4> <p>主程序编译：mvn compile</p> <p>测试程序编译：mvn test-compile</p> <p>主体程序编译结果存放的目录：target/classes</p> <p>测试程序编译结果存放的目录：target/test-classes</p> <h4 id="_4、测试操作"><a href="#_4、测试操作" class="header-anchor">#</a> 4、测试操作</h4> <p>mvn test</p> <p>测试的报告存放的目录：target/surefire-reports</p> <h4 id="_5、打包操作"><a href="#_5、打包操作" class="header-anchor">#</a> 5、打包操作</h4> <p>mvn package</p> <p>打包的结果——jar 包，存放的目录：target</p> <h4 id="_6、安装操作"><a href="#_6、安装操作" class="header-anchor">#</a> 6、安装操作</h4> <p>mvn install</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Installing D:<span class="token punctuation">\</span>maven-workspace<span class="token punctuation">\</span>space201026<span class="token punctuation">\</span>pro01-maven-java<span class="token punctuation">\</span>target<span class="token punctuation">\</span>pro01-maven-java-1.0-SNAPSHOT.jar to D:<span class="token punctuation">\</span>maven-rep1026<span class="token punctuation">\</span>com<span class="token punctuation">\</span>atguigu<span class="token punctuation">\</span>maven<span class="token punctuation">\</span>pro01-maven-java<span class="token punctuation">\</span><span class="token number">1.0</span>-SNAPSHOT<span class="token punctuation">\</span>pro01-maven-java-1.0-SNAPSHOT.jar
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Installing D:<span class="token punctuation">\</span>maven-workspace<span class="token punctuation">\</span>space201026<span class="token punctuation">\</span>pro01-maven-java<span class="token punctuation">\</span>pom.xml to D:<span class="token punctuation">\</span>maven-rep1026<span class="token punctuation">\</span>com<span class="token punctuation">\</span>atguigu<span class="token punctuation">\</span>maven<span class="token punctuation">\</span>pro01-maven-java<span class="token punctuation">\</span><span class="token number">1.0</span>-SNAPSHOT<span class="token punctuation">\</span>pro01-maven-java-1.0-SNAPSHOT.pom
</code></pre></div><p>安装的效果是将本地构建过程中生成的 jar 包存入 Maven 本地仓库。这个 jar 包在 Maven 仓库中的路径是根据它的坐标生成的。</p> <p>坐标信息如下：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在 Maven 仓库中生成的路径如下：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>D:<span class="token punctuation">\</span>maven-rep1026<span class="token punctuation">\</span>com<span class="token punctuation">\</span>atguigu<span class="token punctuation">\</span>maven<span class="token punctuation">\</span>pro01-maven-java<span class="token punctuation">\</span><span class="token number">1.0</span>-SNAPSHOT<span class="token punctuation">\</span>pro01-maven-java-1.0-SNAPSHOT.jar
</code></pre></div><p>另外，安装操作还会将 pom.xml 文件转换为 XXX.pom 文件一起存入本地仓库。所以我们在 Maven 的本地仓库中想看一个 jar 包原始的 pom.xml 文件时，查看对应 XXX.pom 文件即可，它们是名字发生了改变，本质上是同一个文件。</p> <h3 id="实验四-创建-maven-版的-web-工程"><a href="#实验四-创建-maven-版的-web-工程" class="header-anchor">#</a> 实验四： 创建 Maven 版的 Web 工程</h3> <h4 id="_1、说明"><a href="#_1、说明" class="header-anchor">#</a> 1、说明</h4> <p>使用 mvn archetype:generate 命令生成 Web 工程时，需要使用一个专门的 archetype。这个专门生成 Web 工程骨架的 archetype 可以参照官网看到它的用法：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E5%88%9B%E5%BB%BAMaven%E4%B8%ADWeb%E5%B7%A5%E7%A8%8B%E8%AF%B4%E6%98%8E.png" alt=""></p> <p>参数 archetypeGroupId、archetypeArtifactId、archetypeVersion 用来指定现在使用的 maven-archetype-webapp 的坐标。</p> <h4 id="_2、操作"><a href="#_2、操作" class="header-anchor">#</a> 2、操作</h4> <p>注意：如果在上一个工程的目录下执行 mvn archetype:generate 命令，那么 Maven 会报错：不能在一个非 pom 的工程下再创建其他工程。所以不要再刚才创建的工程里再创建新的工程，请回到工作空间根目录来操作。</p> <p>然后运行生成工程的命令：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>mvn archetype:generate <span class="token parameter variable">-DarchetypeGroupId</span><span class="token operator">=</span>org.apache.maven.archetypes <span class="token parameter variable">-DarchetypeArtifactId</span><span class="token operator">=</span>maven-archetype-webapp <span class="token parameter variable">-DarchetypeVersion</span><span class="token operator">=</span><span class="token number">1.4</span>
</code></pre></div><p>下面的操作按照提示执行：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>Define value <span class="token keyword">for</span> property <span class="token string">'groupId'</span><span class="token builtin class-name">:</span> com.atguigu.maven Define value <span class="token keyword">for</span> property <span class="token string">'artifactId'</span><span class="token builtin class-name">:</span> pro02-maven-web Define value <span class="token keyword">for</span> property <span class="token string">'version'</span> <span class="token number">1.0</span>-SNAPSHOT: :【直接回车，使用默认值】

Define value <span class="token keyword">for</span> property <span class="token string">'package'</span> com.atguigu.maven: :【直接回车，使用默认值】 Confirm properties configuration: groupId: com.atguigu.maven artifactId: pro02-maven-web version: <span class="token number">1.0</span>-SNAPSHOT package: com.atguigu.maven Y: :【直接回车，表示确认】
</code></pre></div><h4 id="_3、生成的pom-xml"><a href="#_3、生成的pom-xml" class="header-anchor">#</a> 3、生成的pom.xml</h4> <p>确认打包的方式是war包形式</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_4、生成的web工程的目录结构"><a href="#_4、生成的web工程的目录结构" class="header-anchor">#</a> 4、生成的Web工程的目录结构</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E7%94%9F%E6%88%90%E7%9A%84Web%E5%B7%A5%E7%A8%8B%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt=""></p> <p>webapp 目录下有 index.jsp</p> <p>WEB-INF 目录下有 web.xml</p> <h4 id="_5、创建-servlet"><a href="#_5、创建-servlet" class="header-anchor">#</a> 5、创建 Servlet</h4> <h5 id="_1在-main-目录下创建-java-目录"><a href="#_1在-main-目录下创建-java-目录" class="header-anchor">#</a> ①在 main 目录下创建 java 目录</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9Bmain%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BAJava%E7%9B%AE%E5%BD%95.png" alt=""></p> <h5 id="_2在-java-目录下创建-servlet-类所在的包的目录"><a href="#_2在-java-目录下创建-servlet-类所在的包的目录" class="header-anchor">#</a> ②在 java 目录下创建 Servlet 类所在的包的目录</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9BJava%E7%9B%AE%E5%BD%95%E4%B8%8B%E5%88%9B%E5%BB%BAServlet%E7%B1%BB%E7%9B%AE%E5%BD%95.png" alt=""></p> <h5 id="_3在包下创建-servlet-类"><a href="#_3在包下创建-servlet-类" class="header-anchor">#</a> ③在包下创建 Servlet 类</h5> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven</span><span class="token punctuation">;</span>
  
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
  
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>
  
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello maven web&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h5 id="_4在-web-xml-中注册-servlet"><a href="#_4在-web-xml-中注册-servlet" class="header-anchor">#</a> ④在 web.xml 中注册 Servlet</h5> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>helloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>helloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/helloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_6、在-index-jsp-页面编写超链接"><a href="#_6、在-index-jsp-页面编写超链接" class="header-anchor">#</a> 6、在 index.jsp 页面编写超链接</h4> <div class="language-HTML extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>Hello World!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>helloServlet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Access Servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><blockquote><p>JSP全称是 Java Server Page，和 Thymeleaf 一样，是服务器端页面渲染技术。这里我们不必关心 JSP 语法细节，编写一个超链接标签即可。</p></blockquote> <h4 id="_7、编译"><a href="#_7、编译" class="header-anchor">#</a> 7、编译</h4> <p>此时直接执行 mvn compile 命令出错：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code>程序包 javax.servlet.http 不存在

程序包 javax.servlet 不存在

找不到符号

符号: 类 HttpServlet

……
</code></pre></div><p>上面的错误信息说明：我们的 Web 工程用到了 HttpServlet 这个类，而 HttpServlet 这个类属于 servlet-api.jar 这个 jar 包。此时我们说，Web 工程需要依赖 servlet-api.jar 包。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9BWeb%E5%B7%A5%E7%A8%8B%E4%BE%9D%E8%B5%96.png" alt=""></p> <h4 id="_8、配置对-servlet-api-jar-包的依赖"><a href="#_8、配置对-servlet-api-jar-包的依赖" class="header-anchor">#</a> 8、配置对 servlet-api.jar 包的依赖</h4> <p>对于不知道详细信息的依赖可以到https://mvnrepository.com/网站查询。使用关键词搜索，然后在搜索结果列表中选择适合的使用。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E9%85%8D%E7%BD%AE%E5%AF%B9servletapi%E5%8C%85%E7%9A%84%E4%BE%9D%E8%B5%96.png" alt=""></p> <p>比如，我们找到的 servlet-api 的依赖信息：</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这样就可以把上面的信息加入 pom.xml。重新执行 mvn compile 命令。</p> <h4 id="_9、将-web-工程打包为-war-包"><a href="#_9、将-web-工程打包为-war-包" class="header-anchor">#</a> 9、将 Web 工程打包为 war 包</h4> <p>运行 mvn package 命令，生成 war 包的位置如下图所示：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E5%B0%86Web%E5%B7%A5%E7%A8%8B%E6%89%93%E5%8C%85%E4%B8%BAwar%E5%8C%85.png" alt=""></p> <h4 id="_10、将-war-包部署到-tomcat-上运行"><a href="#_10、将-war-包部署到-tomcat-上运行" class="header-anchor">#</a> 10、将 war 包部署到 Tomcat 上运行</h4> <p>将 war 包复制到 Tomcat/webapps 目录下</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E5%B0%86war%E5%8C%85%E9%83%A8%E7%BD%B2%E5%88%B0Tomcat.png" alt=""></p> <p>启动 Tomcat：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E5%B0%86war%E5%8C%85%E9%83%A8%E7%BD%B2%E5%88%B0Tomcat%E5%90%AF%E5%8A%A81.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%9B%9B%E5%B0%86war%E5%8C%85%E9%83%A8%E7%BD%B2%E5%88%B0Tomcat%E5%90%AF%E5%8A%A82.png" alt=""></p> <p>通过浏览器尝试访问：<a href="http://localhost:8080/pro02-maven-web/index.jsp" target="_blank" rel="noopener noreferrer">http://localhost:8080/pro02-maven-web/index.jsp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="实验五-让-web-工程依赖-java-工程"><a href="#实验五-让-web-工程依赖-java-工程" class="header-anchor">#</a> 实验五：让 Web 工程依赖 Java 工程</h3> <h4 id="_1、观念"><a href="#_1、观念" class="header-anchor">#</a> 1、观念</h4> <p>明确一个意识：从来只有 Web 工程依赖 Java 工程，没有反过来 Java 工程依赖 Web 工程。本质上来说，Web 工程依赖的 Java 工程其实就是 Web 工程里导入的 jar 包。最终 Java 工程会变成 jar 包，放在 Web 工程的 WEB-INF/lib 目录下。</p> <h4 id="_2、操作-2"><a href="#_2、操作-2" class="header-anchor">#</a> 2、操作</h4> <p>在 pro02-maven-web 工程的 pom.xml 中，找到 dependencies 标签，在 dependencies 标签中做如下配置：</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 配置对Java工程pro01-maven-java的依赖 --&gt;</span>
<span class="token comment">&lt;!-- 具体的配置方式：在dependency标签内使用坐标实现依赖 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3、在-web-工程中-编写测试代码"><a href="#_3、在-web-工程中-编写测试代码" class="header-anchor">#</a> 3、在 Web 工程中，编写测试代码</h4> <p>证明在Web工程中可以使用Java工程中创建的那个类：Calculator</p> <h5 id="_1补充创建目录"><a href="#_1补充创建目录" class="header-anchor">#</a> ①补充创建目录</h5> <p>pro02-maven-web\src\test\java\com\atguigu\maven</p> <p>可以使用mkdir命令：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token function">mkdir</span> src<span class="token punctuation">\</span>test<span class="token punctuation">\</span>java<span class="token punctuation">\</span>com<span class="token punctuation">\</span>atguigu<span class="token punctuation">\</span>maven
</code></pre></div><h5 id="_2确认-web-工程依赖了-junit"><a href="#_2确认-web-工程依赖了-junit" class="header-anchor">#</a> ②确认 Web 工程依赖了 junit</h5> <div class="language-XML extra-class"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_3创建测试类"><a href="#_3创建测试类" class="header-anchor">#</a> ③创建测试类</h5> <p>把 Java 工程的 CalculatorTest.java 类复制到 pro02-maven-wb\src\test\java\com\atguigu\maven 目录下</p> <h4 id="_4、执行maven命令"><a href="#_4、执行maven命令" class="header-anchor">#</a> 4、执行Maven命令</h4> <h5 id="_1测试命令"><a href="#_1测试命令" class="header-anchor">#</a> ①测试命令</h5> <p>mvn test</p> <p>说明：测试操作中会提前自动执行编译操作，测试成功就说明编译也是成功的。</p> <h5 id="_2打包命令"><a href="#_2打包命令" class="header-anchor">#</a> ②打包命令</h5> <p>mvn package</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%BA%94%E6%89%93%E5%8C%85%E5%91%BD%E4%BB%A4.png" alt=""></p> <p>通过查看 war 包内的结构，我们看到被 Web 工程依赖的 Java 工程确实是会变成 Web 工程的 WEB-INF/lib 目录下的 jar 包。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%BA%94%E6%89%93%E5%8C%85%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E5%8C%85%E5%86%85%E7%BB%93%E6%9E%84.png" alt=""></p> <h5 id="_3查看当前-web-工程所依赖的-jar-包的列表"><a href="#_3查看当前-web-工程所依赖的-jar-包的列表" class="header-anchor">#</a> ③查看当前 Web 工程所依赖的 jar 包的列表</h5> <p>mvn dependency:list</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> The following files have been resolved:
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> javax.servlet:javax.servlet-api:jar:3.1.0:provided
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> junit:junit:jar:4.12:test
</code></pre></div><p>说明：javax.servlet:javax.servlet-api:jar:3.1.0:provided 格式显示的是一个 jar 包的坐标信息。格式是：</p> <blockquote><p>groupId:artifactId:打包方式:version:依赖的范围</p></blockquote> <p>这样的格式虽然和我们 XML 配置文件中坐标的格式不同，但是本质上还是坐标信息，大家需要能够认识这样的格式，将来从 Maven 命令的日志或错误信息中看到这样格式的信息，就能够识别出来这是坐标。进而根据坐标到Maven 仓库找到对应的jar包，用这样的方式解决我们遇到的报错的情况。</p> <h5 id="_4以树形结构查看当前-web-工程的依赖信息"><a href="#_4以树形结构查看当前-web-工程的依赖信息" class="header-anchor">#</a> ④以树形结构查看当前 Web 工程的依赖信息</h5> <p>mvn dependency:tree</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro02-maven-web:war:1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- junit:junit:jar:4.12:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- javax.servlet:javax.servlet-api:jar:3.1.0:provided
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT:compile
</code></pre></div><p>我们在 pom.xml 中并没有依赖 hamcrest-core，但是它却被加入了我们依赖的列表。原因是：junit 依赖了hamcrest-core，然后基于依赖的传递性，hamcrest-core 被传递到我们的工程了。</p> <h3 id="实验六-测试依赖范围"><a href="#实验六-测试依赖范围" class="header-anchor">#</a> 实验六：测试依赖范围</h3> <h4 id="_1、依赖范围"><a href="#_1、依赖范围" class="header-anchor">#</a> 1、依赖范围</h4> <p>标签的位置：dependencies/dependency/scope</p> <p>标签的可选值：compile/test/provided/system/runtime/import</p> <h5 id="_1compile-和-test-对比"><a href="#_1compile-和-test-对比" class="header-anchor">#</a> ①compile 和 test 对比</h5> <table><thead><tr><th></th> <th>main目录（空间）</th> <th>test目录（空间）</th> <th>开发过程（时间）</th> <th>部署到服务器（时间）</th></tr></thead> <tbody><tr><td>compile</td> <td>有效</td> <td>有效</td> <td>有效</td> <td>有效</td></tr> <tr><td>test</td> <td>无效</td> <td>有效</td> <td>有效</td> <td>无效</td></tr></tbody></table> <h5 id="_2compile-和-provided-对比"><a href="#_2compile-和-provided-对比" class="header-anchor">#</a> ②compile 和 provided 对比</h5> <table><thead><tr><th></th> <th>main目录（空间）</th> <th>test目录（空间）</th> <th>开发过程（时间）</th> <th>部署到服务器（时间）</th></tr></thead> <tbody><tr><td>compile</td> <td>有效</td> <td>有效</td> <td>有效</td> <td>有效</td></tr> <tr><td>provided</td> <td>有效</td> <td>有效</td> <td>有效</td> <td>无效</td></tr></tbody></table> <h5 id="_3结论"><a href="#_3结论" class="header-anchor">#</a> ③结论</h5> <p>compile：通常使用的第三方框架的 jar 包这样在项目实际运行时真正要用到的 jar 包都是以 compile 范围进行依赖的。比如 SSM 框架所需jar包。</p> <p>test：测试过程中使用的 jar 包，以 test 范围依赖进来。比如 junit。</p> <p>provided：在开发过程中需要用到的“服务器上的 jar 包”通常以 provided 范围依赖进来。比如 servlet-api、jsp-api。而这个范围的 jar 包之所以不参与部署、不放进 war 包，就是避免和服务器上已有的同类 jar 包产生冲突，同时减轻服务器的负担。说白了就是：“服务器上已经有了，你就别带啦！”</p> <h4 id="_2、测试"><a href="#_2、测试" class="header-anchor">#</a> 2、测试</h4> <h5 id="_1验证-compile-范围对-main-目录有效"><a href="#_1验证-compile-范围对-main-目录有效" class="header-anchor">#</a> ①验证 compile 范围对 main 目录有效</h5> <p>main目录下的类：HelloServlet 使用compile范围导入的依赖：pro01-atguigu-maven</p> <p>验证：使用compile范围导入的依赖对main目录下的类来说是有效的</p> <p>有效：HelloServlet 能够使用 pro01-atguigu-maven 工程中的 Calculator 类</p> <p>验证方式：在 HelloServlet 类中导入 Calculator 类，然后编译就说明有效。</p> <h5 id="_2验证test范围对main目录无效"><a href="#_2验证test范围对main目录无效" class="header-anchor">#</a> ②验证test范围对main目录无效</h5> <p>测试方式：在主体程序中导入org.junit.Test这个注解，然后执行编译。</p> <p>具体操作：在pro01-maven-java\src\main\java\com\atguigu\maven目录下修改Calculator.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> i <span class="token operator">+</span> j<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>执行Maven编译命令：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>ERROR<span class="token punctuation">]</span> /D:/maven-workspace/space201026/pro01-maven-java/src/main/java/com/atguigu/maven/Calculator.java:<span class="token punctuation">[</span><span class="token number">3,17</span><span class="token punctuation">]</span> 程序包org.junit不存在
</code></pre></div><h5 id="_3验证test和provided范围不参与服务器部署"><a href="#_3验证test和provided范围不参与服务器部署" class="header-anchor">#</a> ③验证test和provided范围不参与服务器部署</h5> <p>其实就是验证：通过compile范围依赖的jar包会放入war包，通过test范围依赖的jar包不会放入war包。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%85%AD%E9%AA%8C%E8%AF%81test%E5%92%8Cprovided%E8%8C%83%E5%9B%B4.png" alt=""></p> <h5 id="_4验证provided范围对测试程序有效"><a href="#_4验证provided范围对测试程序有效" class="header-anchor">#</a> ④验证provided范围对测试程序有效</h5> <p>测试方式是在pro02-maven-web的测试程序中加入servlet-api.jar包中的类。</p> <p>修改：pro02-maven-web\src\test\java\com\atguigu\maven\CalculatorTest.java</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>maven<span class="token punctuation">.</span></span><span class="token class-name">Calculator</span></span><span class="token punctuation">;</span>

<span class="token comment">// 静态导入的效果是将Assert类中的静态资源导入当前类</span>
<span class="token comment">// 这样一来，在当前类中就可以直接使用Assert类中的静态资源，不需要写类名</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CalculatorTest</span><span class="token punctuation">{</span>
  
  <span class="token annotation punctuation">@Test</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
    <span class="token comment">// 1.创建Calculator对象</span>
    <span class="token class-name">Calculator</span> calculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Calculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2.调用Calculator对象的方法，获取到程序运行实际的结果</span>
    <span class="token keyword">int</span> actualResult <span class="token operator">=</span> calculator<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 3.声明一个变量，表示程序运行期待的结果</span>
    <span class="token keyword">int</span> expectedResult <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 4.使用断言来判断实际结果和期待结果是否一致</span>
    <span class="token comment">// 如果一致：测试通过，不会抛出异常</span>
    <span class="token comment">// 如果不一致：抛出异常，测试失败</span>
    <span class="token function">assertEquals</span><span class="token punctuation">(</span>expectedResult<span class="token punctuation">,</span> actualResult<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>然后运行Maven的编译命令：mvn compile</p> <p>然后看到编译成功。</p> <h3 id="实验七-测试依赖的传递性"><a href="#实验七-测试依赖的传递性" class="header-anchor">#</a> 实验七：测试依赖的传递性</h3> <h4 id="_1、依赖的传递性"><a href="#_1、依赖的传递性" class="header-anchor">#</a> 1、依赖的传递性</h4> <h5 id="_1概念"><a href="#_1概念" class="header-anchor">#</a> ①概念</h5> <p>A 依赖 B，B 依赖 C，那么在 A 没有配置对 C 的依赖的情况下，A 里面能不能直接使用 C？</p> <h5 id="_2传递的原则"><a href="#_2传递的原则" class="header-anchor">#</a> ②传递的原则</h5> <p>在 A 依赖 B，B 依赖 C 的前提下，C 是否能够传递到 A，取决于 B 依赖 C 时使用的依赖范围。</p> <ul><li>B 依赖 C 时使用 compile 范围：可以传递</li> <li>B 依赖 C 时使用 test 或 provided 范围：不能传递，所以需要这样的 jar 包时，就必须在需要的地方明确配置依赖才可以。</li></ul> <h4 id="_2、使用-compile-范围依赖-spring-core"><a href="#_2、使用-compile-范围依赖-spring-core" class="header-anchor">#</a> 2、使用 compile 范围依赖 spring-core</h4> <p>测试方式：让 pro01-maven-java 工程依赖 spring-core</p> <p>具体操作：编辑 pro01-maven-java 工程根目录下 pom.xml</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>使用 mvn dependency:tree 命令查看效果：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- junit:junit:jar:4.12:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- org.springframework:spring-core:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- commons-logging:commons-logging:jar:1.1.1:compile
</code></pre></div><p>还可以在 Web 工程中，使用 mvn dependency:tree 命令查看效果（<strong>需要重新将 pro01-maven-java 安装到仓库</strong>）：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro02-maven-web:war:1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- junit:junit:jar:4.12:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- javax.servlet:javax.servlet-api:jar:3.1.0:provided
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- org.springframework:spring-core:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- commons-logging:commons-logging:jar:1.1.1:compile
</code></pre></div><h4 id="_3、验证-test-和-provided-范围不能传递"><a href="#_3、验证-test-和-provided-范围不能传递" class="header-anchor">#</a> 3、验证 test 和 provided 范围不能传递</h4> <p>从上面的例子已经能够看到，pro01-maven-java 依赖了 junit，但是在 pro02-maven-web 工程中查看依赖树的时候并没有看到 junit。</p> <p>要验证 provided 范围不能传递，可以在 pro01-maven-java 工程中加入 servlet-api 的依赖。</p> <div class="language-Java extra-class"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
  <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>javax<span class="token punctuation">.</span>servlet<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>javax<span class="token punctuation">.</span>servlet<span class="token operator">-</span>api<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
  <span class="token generics"><span class="token punctuation">&lt;</span>scope<span class="token punctuation">&gt;</span></span>provided<span class="token operator">&lt;</span><span class="token operator">/</span>scope<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
</code></pre></div><p>效果还是和之前一样：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro02-maven-web:war:1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- junit:junit:jar:4.12:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- javax.servlet:javax.servlet-api:jar:3.1.0:provided
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- org.springframework:spring-core:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- commons-logging:commons-logging:jar:1.1.1:compile
</code></pre></div><h3 id="实验八-测试依赖的排除"><a href="#实验八-测试依赖的排除" class="header-anchor">#</a> 实验八：测试依赖的排除</h3> <h4 id="_1、概念"><a href="#_1、概念" class="header-anchor">#</a> 1、概念</h4> <p>当 A 依赖 B，B 依赖 C 而且 C 可以传递到 A 的时候，A 不想要 C，需要在 A 里面把 C 排除掉。而往往这种情况都是为了避免 jar 包之间的冲突。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%85%AB%E6%B5%8B%E8%AF%95%E4%BE%9D%E8%B5%96%E7%9A%84%E6%8E%92%E9%99%A4%E6%A6%82%E5%BF%B5.png" alt=""></p> <p>所以配置依赖的排除其实就是阻止某些 jar 包的传递。因为这样的 jar 包传递过来会和其他 jar 包冲突。</p> <h4 id="_2、配置方式"><a href="#_2、配置方式" class="header-anchor">#</a> 2、配置方式</h4> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 使用excludes标签配置依赖的排除  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 在exclude标签中配置一个具体的排除 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 指定要排除的依赖的坐标（不需要写version） --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3、测试"><a href="#_3、测试" class="header-anchor">#</a> 3、测试</h4> <p>测试的方式：在 pro02-maven-web 工程中配置对 commons-logging 的排除</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro01-maven-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 使用excludes标签配置依赖的排除  --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 在exclude标签中配置一个具体的排除 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 指定要排除的依赖的坐标（不需要写version） --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-logging<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>运行 mvn dependency:tree 命令查看效果：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> com.atguigu.maven:pro02-maven-web:war:1.0-SNAPSHOT
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- junit:junit:jar:4.12:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- org.hamcrest:hamcrest-core:jar:1.3:test
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- javax.servlet:javax.servlet-api:jar:3.1.0:provided
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- com.atguigu.maven:pro01-maven-java:jar:1.0-SNAPSHOT:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token punctuation">\</span>- org.springframework:spring-core:jar:4.0.0.RELEASE:compile
</code></pre></div><p>发现在 spring-core 下面就没有 commons-logging 了。</p> <h3 id="实验九-继承"><a href="#实验九-继承" class="header-anchor">#</a> 实验九：继承</h3> <h4 id="_1、概念-2"><a href="#_1、概念-2" class="header-anchor">#</a> 1、概念</h4> <p>Maven工程之间，A 工程继承 B 工程</p> <ul><li>B 工程：父工程</li> <li>A 工程：子工程</li></ul> <p>本质上是 A 工程的 pom.xml 中的配置继承了 B 工程中 pom.xml 的配置。</p> <h4 id="_2、作用"><a href="#_2、作用" class="header-anchor">#</a> 2、作用</h4> <p>在父工程中统一管理项目中的依赖信息，具体来说是管理依赖信息的版本。</p> <p>它的背景是：</p> <ul><li>对一个比较大型的项目进行了模块拆分。</li> <li>一个 project 下面，创建了很多个 module。</li> <li>每一个 module 都需要配置自己的依赖信息。</li></ul> <p>它背后的需求是：</p> <ul><li>在每一个 module 中各自维护各自的依赖信息很容易发生出入，不易统一管理。</li> <li>使用同一个框架内的不同 jar 包，它们应该是同一个版本，所以整个项目中使用的框架版本需要统一。</li> <li>使用框架时所需要的 jar 包组合（或者说依赖信息组合）需要经过长期摸索和反复调试，最终确定一个可用组合。这个耗费很大精力总结出来的方案不应该在新的项目中重新摸索。</li></ul> <p>通过在父工程中为整个项目维护依赖信息的组合既保证了整个项目使用规范、准确的 jar 包；又能够将以往的经验沉淀下来，节约时间和精力。</p> <h4 id="_3、举例"><a href="#_3、举例" class="header-anchor">#</a> 3、举例</h4> <p>在一个工程中依赖多个 Spring 的 jar 包</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- org.springframework:spring-core:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- commons-logging:commons-logging:jar:1.1.1:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- org.springframework:spring-beans:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- org.springframework:spring-context:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- org.springframework:spring-expression:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> +- org.springframework:spring-aop:jar:4.0.0.RELEASE:compile
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token punctuation">\</span>- aopalliance:aopalliance:jar:1.0:compile
</code></pre></div><p>使用 Spring 时要求所有 Spring 自己的 jar 包版本必须一致。为了能够对这些 jar 包的版本进行统一管理，我们使用继承这个机制，将所有版本信息统一在父工程中进行管理。</p> <h4 id="_4、操作"><a href="#_4、操作" class="header-anchor">#</a> 4、操作</h4> <h5 id="_1创建父工程"><a href="#_1创建父工程" class="header-anchor">#</a> ①创建父工程</h5> <p>创建的过程和前面创建 pro01-maven-java 一样。</p> <p>工程名称：pro03-maven-parent</p> <p>工程创建好之后，要修改它的打包方式：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro03-maven-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 当前工程作为父工程，它要去管理子工程，所以打包方式必须是 pom --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>只有打包方式为 pom 的 Maven 工程能够管理其他 Maven 工程。打包方式为 pom 的 Maven 工程中不写业务代码，它是专门管理其他 Maven 工程的工程。</p> <h5 id="_2创建模块工程"><a href="#_2创建模块工程" class="header-anchor">#</a> ②创建模块工程</h5> <p>模块工程类似于 IDEA 中的 module，所以需要进入 pro03-maven-parent 工程的根目录，然后运行 mvn archetype:generate 命令来创建模块工程。</p> <p>假设，我们创建三个模块工程：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B9%9D%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9D%97%E5%B7%A5%E7%A8%8B.png" alt=""></p> <h5 id="_3查看被添加新内容的父工程-pom-xml"><a href="#_3查看被添加新内容的父工程-pom-xml" class="header-anchor">#</a> ③查看被添加新内容的父工程 pom.xml</h5> <p>下面 modules 和 module 标签是聚合功能的配置</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro04-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro05-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro06-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_4解读子工程的pom-xml"><a href="#_4解读子工程的pom-xml" class="header-anchor">#</a> ④解读子工程的pom.xml</h5> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 使用parent标签指定当前工程的父工程 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 父工程的坐标 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro03-maven-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 子工程的坐标 --&gt;</span>
<span class="token comment">&lt;!-- 如果子工程坐标中的groupId和version与父工程一致，那么可以省略 --&gt;</span>
<span class="token comment">&lt;!-- &lt;groupId&gt;com.atguigu.maven&lt;/groupId&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>pro04-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; --&gt;</span>
</code></pre></div><h5 id="_5在父工程中配置依赖的统一管理"><a href="#_5在父工程中配置依赖的统一管理" class="header-anchor">#</a> ⑤在父工程中配置依赖的统一管理</h5> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 使用dependencyManagement标签配置对依赖的管理 --&gt;</span>
<span class="token comment">&lt;!-- 被管理的依赖并没有真正被引入到工程 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-expression<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.0.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_6子工程中引用那些被父工程管理的依赖"><a href="#_6子工程中引用那些被父工程管理的依赖" class="header-anchor">#</a> ⑥子工程中引用那些被父工程管理的依赖</h5> <p>关键点：省略版本号</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 子工程引用父工程中的依赖信息时，可以把版本号去掉。  --&gt;</span>
<span class="token comment">&lt;!-- 把版本号去掉就表示子工程中这个依赖的版本由父工程决定。 --&gt;</span>
<span class="token comment">&lt;!-- 具体来说是由父工程的dependencyManagement来决定。 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-expression<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h5 id="_7在父工程中升级依赖信息的版本"><a href="#_7在父工程中升级依赖信息的版本" class="header-anchor">#</a> ⑦在父工程中升级依赖信息的版本</h5> <div class="language-XML extra-class"><pre class="language-xml"><code>……
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-beans<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.1.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
……
</code></pre></div><p>然后在子工程中运行mvn dependency:list，效果如下：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.springframework:spring-aop:jar:4.1.4.RELEASE:compile  
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.springframework:spring-core:jar:4.1.4.RELEASE:compile  
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.springframework:spring-context:jar:4.1.4.RELEASE:compile  
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.springframework:spring-beans:jar:4.1.4.RELEASE:compile  
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> org.springframework:spring-expression:jar:4.1.4.RELEASE:compile
</code></pre></div><h5 id="_8在父工程中声明自定义属性"><a href="#_8在父工程中声明自定义属性" class="header-anchor">#</a> ⑧在父工程中声明自定义属性</h5> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 通过自定义属性，统一指定Spring的版本 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
  
  <span class="token comment">&lt;!-- 自定义标签，维护Spring版本数据 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>atguigu.spring.version</span><span class="token punctuation">&gt;</span></span>4.3.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>atguigu.spring.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>在需要的地方使用${}的形式来引用自定义的属性名：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${atguigu.spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>真正实现“一处修改，处处生效”。</p> <h4 id="_5、实际意义"><a href="#_5、实际意义" class="header-anchor">#</a> 5、实际意义</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E4%B9%9D%E5%AE%9E%E9%99%85%E6%84%8F%E4%B9%89.jpg" alt=""></p> <p>编写一套符合要求、开发各种功能都能正常工作的依赖组合并不容易。如果公司里已经有人总结了成熟的组合方案，那么再开发新项目时，如果不使用原有的积累，而是重新摸索，会浪费大量的时间。为了提高效率，我们可以使用工程继承的机制，让成熟的依赖组合方案能够保留下来。</p> <p>如上图所示，公司级的父工程中管理的就是成熟的依赖组合方案，各个新项目、子系统各取所需即可。</p> <h3 id="实验十-聚合"><a href="#实验十-聚合" class="header-anchor">#</a> 实验十：聚合</h3> <h4 id="_1、聚合本身的含义"><a href="#_1、聚合本身的含义" class="header-anchor">#</a> 1、聚合本身的含义</h4> <p><strong>部分组成整体</strong></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8Maven%E5%91%BD%E4%BB%A4%E8%A1%8C/%E5%AE%9E%E9%AA%8C%E5%8D%81%E8%81%9A%E5%90%88%E6%9C%AC%E8%BA%AB%E5%90%AB%E4%B9%89.jpg" alt=""></p> <p>动画片《战神金刚》中的经典台词：“我来组成头部！我来组成手臂！”就是聚合关系最生动的体现。</p> <h4 id="_2、maven-中的聚合"><a href="#_2、maven-中的聚合" class="header-anchor">#</a> 2、Maven 中的聚合</h4> <p>使用一个“总工程”将各个“模块工程”汇集起来，作为一个整体对应完整的项目。</p> <ul><li>项目：整体</li> <li>模块：部分</li></ul> <blockquote><p>概念的对应关系：</p></blockquote> <p>从继承关系角度来看：
●父工程
●子工程</p> <p>从聚合关系角度来看：
●总工程
●模块工程</p> <h4 id="_3、好处"><a href="#_3、好处" class="header-anchor">#</a> 3、好处</h4> <ul><li><p>一键执行 Maven 命令：很多构建命令都可以在“总工程”中一键执行。</p> <p>以 mvn install 命令为例：Maven 要求有父工程时先安装父工程；有依赖的工程时，先安装被依赖的工程。我们自己考虑这些规则会很麻烦。但是工程聚合之后，在总工程执行 mvn install 可以一键完成安装，而且会自动按照正确的顺序执行。</p></li> <li><p>配置聚合之后，各个模块工程会在总工程中展示一个列表，让项目中的各个模块一目了然。</p></li></ul> <h4 id="_4、聚合的配置"><a href="#_4、聚合的配置" class="header-anchor">#</a> 4、聚合的配置</h4> <p>在总工程中配置 modules 即可：</p> <div class="language-XML extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro04-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro05-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">&gt;</span></span>pro06-maven-module<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5、依赖循环问题"><a href="#_5、依赖循环问题" class="header-anchor">#</a> 5、依赖循环问题</h4> <p>如果 A 工程依赖 B 工程，B 工程依赖 C 工程，C 工程又反过来依赖 A 工程，那么在执行构建操作时会报下面的错误：</p> <blockquote><p>[ERROR] [ERROR] The projects in the reactor contain a cyclic reference:</p></blockquote> <p>这个错误的含义是：循环引用。</p> <h2 id="第四章-使用-maven-idea"><a href="#第四章-使用-maven-idea" class="header-anchor">#</a> 第四章 使用 Maven：IDEA</h2> <h3 id="第一节-创建父工程"><a href="#第一节-创建父工程" class="header-anchor">#</a> 第一节 创建父工程</h3> <p>各个 IDEA 不同版本在具体操作方面存在一定差异，这里我们以 2019.3.3 版本为例进行演示。其它版本大家灵活变通即可。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%88%9B%E5%BB%BA%E7%88%B6%E5%B7%A5%E7%A8%8BIDEA%E7%89%88%E6%9C%AC.png" alt=""></p> <h4 id="_1、创建-project"><a href="#_1、创建-project" class="header-anchor">#</a> 1、创建 Project</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%88%9B%E5%BB%BAProject1.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%88%9B%E5%BB%BAProject2.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%88%9B%E5%BB%BAProject3.png" alt=""></p> <h4 id="_2、开启自动导入"><a href="#_2、开启自动导入" class="header-anchor">#</a> 2、开启自动导入</h4> <p>创建 Project 后，IDEA 会自动弹出下面提示，我们选择『Enable Auto-Import』，意思是启用自动导入。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%AF%BC%E5%85%A51.png" alt=""></p> <p>这个自动导入一定要开启，因为 Project、Module 新创建或 pom.xml 每次修改时都应该让 IDEA 重新加载 Maven 信息。这对 Maven 目录结构认定、Java 源程序编译、依赖 jar 包的导入都有非常关键的影响。</p> <p>另外也可以通过 IDEA 的 Settings 设置来开启：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%80%E8%8A%82%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E5%AF%BC%E5%85%A52.png" alt=""></p> <h3 id="第二节-配置-maven-信息"><a href="#第二节-配置-maven-信息" class="header-anchor">#</a> 第二节 配置 Maven 信息</h3> <p>每次创建 Project 后都需要设置 Maven 家目录位置，否则 IDEA 将使用内置的 Maven 核心程序（不稳定）并使用默认的本地仓库位置。这样一来，我们在命令行操作过程中已下载好的 jar 包就白下载了，默认的本地仓库通常在 C 盘，还影响系统运行。</p> <p>配置之后，IDEA 会根据我们在这里指定的 Maven 家目录自动识别到我们在 settings.xml 配置文件中指定的本地仓库。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%8C%E8%8A%82%E9%85%8D%E7%BD%AEMaven%E4%BF%A1%E6%81%AF.png" alt=""></p> <h3 id="第三节-创建-java-模块工程"><a href="#第三节-创建-java-模块工程" class="header-anchor">#</a> 第三节 创建 Java 模块工程</h3> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%89%E8%8A%82%E5%88%9B%E5%BB%BAJava%E6%A8%A1%E5%9D%97%E5%B7%A5%E7%A8%8B1.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%B8%89%E8%8A%82%E5%88%9B%E5%BB%BAJava%E6%A8%A1%E5%9D%97%E5%B7%A5%E7%A8%8B2.png" alt=""></p> <h3 id="第四节-创建-web-模块工程"><a href="#第四节-创建-web-模块工程" class="header-anchor">#</a> 第四节 创建 Web 模块工程</h3> <h4 id="_1、创建模块"><a href="#_1、创建模块" class="header-anchor">#</a> 1、创建模块</h4> <p>按照前面的同样操作创建模块，此时这个模块其实还是一个Java模块。</p> <h4 id="_2、修改打包方式"><a href="#_2、修改打包方式" class="header-anchor">#</a> 2、修改打包方式</h4> <p>Web 模块将来打包当然应该是 war 包。</p> <div class="language-XML extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_3、web-设定"><a href="#_3、web-设定" class="header-anchor">#</a> 3、Web 设定</h4> <p>首先打开项目结构菜单：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82Web%E8%AE%BE%E5%AE%9A1.png" alt=""></p> <p>然后到 Facets 下查看 IDEA 是否已经帮我们自动生成了 Web 设定。正常来说只要我们确实设置了打包方式为 war，那么 IDEA 2019 版就会自动生成 Web 设定。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82Web%E8%AE%BE%E5%AE%9A2.png" alt=""></p> <p>另外，对于 IDEA 2018 诸版本没有自动生成 Web 设定，那么请参照下面两图，我们自己创建：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82Web%E8%AE%BE%E5%AE%9A3.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82Web%E8%AE%BE%E5%AE%9A4.png" alt=""></p> <h4 id="_4、借助idea生成web-xml"><a href="#_4、借助idea生成web-xml" class="header-anchor">#</a> 4、借助IDEA生成web.xml</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82%E5%80%9F%E5%8A%A9IDEA%E7%94%9F%E6%88%90web1.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82%E5%80%9F%E5%8A%A9IDEA%E7%94%9F%E6%88%90web2.png" alt=""></p> <h4 id="_5、设置-web-资源的根目录"><a href="#_5、设置-web-资源的根目录" class="header-anchor">#</a> 5、设置 Web 资源的根目录</h4> <p>结合 Maven 的目录结构，Web 资源的根目录需要设置为 src/main/webapp 目录。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82%E8%AE%BE%E7%BD%AEWeb%E8%B5%84%E6%BA%90%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%951.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E5%9B%9B%E8%8A%82%E8%AE%BE%E7%BD%AEWeb%E8%B5%84%E6%BA%90%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%952.png" alt=""></p> <h3 id="第五节-其他操作"><a href="#第五节-其他操作" class="header-anchor">#</a> 第五节 其他操作</h3> <h4 id="_1、在idea中执行maven命令"><a href="#_1、在idea中执行maven命令" class="header-anchor">#</a> 1、在IDEA中执行Maven命令</h4> <h5 id="_1直接执行"><a href="#_1直接执行" class="header-anchor">#</a> ①直接执行</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E7%9B%B4%E6%8E%A5%E6%89%A7%E8%A1%8C.png" alt=""></p> <h5 id="_2手动输入"><a href="#_2手动输入" class="header-anchor">#</a> ②手动输入</h5> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A51.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A52.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A53.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A54.png" alt=""></p> <p>如果有需要，还可以给命令后面附加参数：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%89%8B%E5%8A%A8%E8%BE%93%E5%85%A55.png" alt=""></p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token comment"># -D 表示后面要附加命令的参数，字母 D 和后面的参数是紧挨着的，中间没有任何其它字符</span>
<span class="token comment"># maven.test.skip=true 表示在执行命令的过程中跳过测试</span>
mvn clean <span class="token function">install</span> <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true
</code></pre></div><h4 id="_2、在idea中查看某个模块的依赖信息"><a href="#_2、在idea中查看某个模块的依赖信息" class="header-anchor">#</a> 2、在IDEA中查看某个模块的依赖信息</h4> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82IDEA%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%AA%E6%A8%A1%E5%9D%97%E4%BE%9D%E8%B5%96%E4%BF%A1%E6%81%AF.png" alt=""></p> <h4 id="_3、工程导入"><a href="#_3、工程导入" class="header-anchor">#</a> 3、工程导入</h4> <p>Maven工程除了自己创建的，还有很多情况是别人创建的。而为了参与开发或者是参考学习，我们都需要导入到 IDEA 中。下面我们分几种不同情况来说明：</p> <h5 id="_1来自版本控制系统"><a href="#_1来自版本控制系统" class="header-anchor">#</a> ①来自版本控制系统</h5> <p>目前我们通常使用的都是 Git（本地库） + 码云（远程库）的版本控制系统，结合 IDEA 的相关操作方式请点<a href="http://heavy_code_industry.gitee.io/code_heavy_industry/pro008-Git/lecture/chapter05/verse03.html" target="_blank" rel="noopener noreferrer">这里 (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>查看克隆远程库部分。</p> <h5 id="_2来自工程目录"><a href="#_2来自工程目录" class="header-anchor">#</a> ②来自工程目录</h5> <p>直接使用 IDEA 打开工程目录即可。下面咱们举个例子：</p> <h6 id="_1-工程压缩包"><a href="#_1-工程压缩包" class="header-anchor">#</a> [1]工程压缩包</h6> <p>假设别人发给我们一个 Maven 工程的 zip 压缩包：maven-rest-demo.zip。从码云或GitHub上也可以以 ZIP 压缩格式对项目代码打包下载。</p> <h6 id="_2-解压"><a href="#_2-解压" class="header-anchor">#</a> [2]解压</h6> <p>如果你的所有 IDEA 工程有一个专门的目录来存放，而不是散落各处，那么首先我们就把 ZIP 包解压到这个指定目录中。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E5%B7%A5%E7%A8%8B%E5%AF%BC%E5%85%A51.png" alt=""></p> <h6 id="_3-打开"><a href="#_3-打开" class="header-anchor">#</a> [3]打开</h6> <p>只要我们确认在解压目录下可以直接看到 pom.xml，那就能证明这个解压目录就是我们的工程目录。那么接下来让 IDEA 打开这个目录就可以了。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E5%B7%A5%E7%A8%8B%E5%AF%BC%E5%85%A52.png" alt=""></p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E5%B7%A5%E7%A8%8B%E5%AF%BC%E5%85%A53.png" alt=""></p> <h6 id="_4-设置-maven-核心程序位置"><a href="#_4-设置-maven-核心程序位置" class="header-anchor">#</a> [4]设置 Maven 核心程序位置</h6> <p>打开一个新的 Maven 工程，和新创建一个 Maven 工程是一样的，此时 IDEA 的 settings 配置中关于 Maven 仍然是默认值：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E5%B7%A5%E7%A8%8B%E5%AF%BC%E5%85%A54.png" alt=""></p> <p>所以我们还是需要像新建 Maven 工程那样，指定一下 Maven 核心程序位置：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E5%B7%A5%E7%A8%8B%E5%AF%BC%E5%85%A55.png" alt=""></p> <h4 id="_4、模块导入"><a href="#_4、模块导入" class="header-anchor">#</a> 4、模块导入</h4> <h5 id="_1情景重现"><a href="#_1情景重现" class="header-anchor">#</a> ①情景重现</h5> <p>在实际开发中，通常会忽略模块（也就是module）所在的项目（也就是project）仅仅导入某一个模块本身。这么做很可能是类似这样的情况：比如基于 Maven 学习 SSM 的时候，做练习需要导入老师发给我们的代码参考。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A51.png" alt=""></p> <h5 id="_2导入-java-类型模块"><a href="#_2导入-java-类型模块" class="header-anchor">#</a> ②导入 Java 类型模块</h5> <h6 id="_1-找到老师发的工程目录"><a href="#_1-找到老师发的工程目录" class="header-anchor">#</a> [1]找到老师发的工程目录</h6> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A52.png" alt=""></p> <h6 id="_2-复制我们想要导入的模块目录"><a href="#_2-复制我们想要导入的模块目录" class="header-anchor">#</a> [2]复制我们想要导入的模块目录</h6> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A53.png" alt=""></p> <h6 id="_3-粘贴到我们自己工程目录下"><a href="#_3-粘贴到我们自己工程目录下" class="header-anchor">#</a> [3]粘贴到我们自己工程目录下</h6> <p>这个工程（project）是我们事先在 IDEA 中创建好的。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A54.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A55.png" alt=""></p> <h6 id="_4-在-idea-中执行导入"><a href="#_4-在-idea-中执行导入" class="header-anchor">#</a> [4]在 IDEA 中执行导入</h6> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A56.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A57.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A58.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A59.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A510.png" alt=""></p> <h6 id="_5-修改-pom-xml"><a href="#_5-修改-pom-xml" class="header-anchor">#</a> [5]修改 pom.xml</h6> <p>刚刚导入的 module 的父工程坐标还是以前的，需要改成我们自己的 project。</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A511.png" alt=""></p> <hr> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A512.png" alt=""></p> <h6 id="_6-最终效果"><a href="#_6-最终效果" class="header-anchor">#</a> [6]最终效果</h6> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A513.png" alt=""></p> <h5 id="_3导入-web-类型模块"><a href="#_3导入-web-类型模块" class="header-anchor">#</a> ③导入 Web 类型模块</h5> <p>其它操作和上面演示的都一样，只是多一步：删除多余的、不正确的 web.xml 设置。如下图所示：</p> <p><img src="Maven%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%B0%9A%E7%A1%85%E8%B0%B7/%E4%BD%BF%E7%94%A8MavenIDEA/%E7%AC%AC%E4%BA%94%E8%8A%82%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A514.png" alt=""></p> <h2 id="第五章-其他核心概念"><a href="#第五章-其他核心概念" class="header-anchor">#</a> 第五章 其他核心概念</h2> <h3 id="_1、生命周期"><a href="#_1、生命周期" class="header-anchor">#</a> 1、生命周期</h3> <h4 id="_1作用"><a href="#_1作用" class="header-anchor">#</a> ①作用</h4> <p>为了让构建过程自动化完成，Maven 设定了三个生命周期，生命周期中的每一个环节对应构建过程中的一个操作。</p> <h4 id="_2三个生命周期"><a href="#_2三个生命周期" class="header-anchor">#</a> ②三个生命周期</h4> <table><thead><tr><th>生命周期名称</th> <th>作用</th> <th>各个环节</th></tr></thead> <tbody><tr><td>Clean</td> <td>清理操作相关</td> <td>pre-clean<br>clean  <br>post-clean</td></tr> <tr><td>Site</td> <td>生成站点相关</td> <td>pre-site  <br>site  <br>post-site  <br>deploy-site</td></tr> <tr><td>Default</td> <td>主要构建过程</td> <td>validate  <br>generate-sources  <br>process-sources  <br>generate-resources  <br>process-resources 复制并处理资源文件，至目标目录，准备打包。  <br>compile 编译项目 main 目录下的源代码。  <br>process-classes  <br>generate-test-sources  <br>process-test-sources  <br>generate-test-resources  <br>process-test-resources 复制并处理资源文件，至目标测试目录。  <br>test-compile 编译测试源代码。  <br>process-test-classes  <br>test 使用合适的单元测试框架运行测试。这些测试代码不会被打包或部署。  <br>prepare-package  <br>package 接受编译好的代码，打包成可发布的格式，如JAR。<br>pre-integration-test  <br>integration-test  <br>post-integration-test  <br>verify  <br>install将包安装至本地仓库，以让其它项目依赖。  <br>deploy将最终的包复制到远程的仓库，以让其它开发人员共享；或者部署到服务器上运行（需借助插件，例如：cargo）。</td></tr></tbody></table> <h4 id="_3特点"><a href="#_3特点" class="header-anchor">#</a> ③特点</h4> <ul><li>前面三个生命周期彼此是独立的。</li> <li>在任何一个生命周期内部，执行任何一个具体环节的操作，都是从本周期最初的位置开始执行，直到指定的地方。（本节记住这句话就行了，其他的都不需要记）</li></ul> <p>Maven 之所以这么设计其实就是为了提高构建过程的自动化程度：让使用者只关心最终要干的即可，过程中的各个环节是自动执行的。</p> <h3 id="_2、插件和目标"><a href="#_2、插件和目标" class="header-anchor">#</a> 2、插件和目标</h3> <h4 id="_1插件"><a href="#_1插件" class="header-anchor">#</a> ①插件</h4> <p>Maven 的核心程序仅仅负责宏观调度，不做具体工作。具体工作都是由 Maven 插件完成的。例如：编译就是由 maven-compiler-plugin-3.1.jar 插件来执行的。</p> <h4 id="_2目标"><a href="#_2目标" class="header-anchor">#</a> ②目标</h4> <p>一个插件可以对应多个目标，而每一个目标都和生命周期中的某一个环节对应。</p> <p>Default 生命周期中有 compile 和 test-compile 两个和编译相关的环节，这两个环节对应 compile 和 test-compile 两个目标，而这两个目标都是由 maven-compiler-plugin-3.1.jar 插件来执行的。</p> <h3 id="_3、仓库"><a href="#_3、仓库" class="header-anchor">#</a> 3、仓库</h3> <ul><li>本地仓库：在当前电脑上，为电脑上所有 Maven 工程服务</li> <li>远程仓库：需要联网
<ul><li>局域网：我们自己搭建的 Maven 私服，例如使用 Nexus 技术。</li> <li>Internet
<ul><li>中央仓库</li> <li>镜像仓库：内容和中央仓库保持一致，但是能够分担中央仓库的负载，同时让用户能够就近访问提高下载速度，例如：Nexus aliyun</li></ul></li></ul></li></ul> <p>建议：不要中央仓库和阿里云镜像混用，否则 jar 包来源不纯，彼此冲突。</p> <p>专门搜索 Maven 依赖信息的网站：<a href="https://mvnrepository.com/" target="_blank" rel="noopener noreferrer">https://mvnrepository.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="第六章"><a href="#第六章" class="header-anchor">#</a> 第六章</h2></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/12/20 21:49:55</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第一章-maven-概述" class="sidebar-link reco-side-第一章-maven-概述" data-v-b57cc07c>第一章 Maven 概述</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第一节-为什么要学习-maven" class="sidebar-link reco-side-第一节-为什么要学习-maven" data-v-b57cc07c>第一节 为什么要学习 Maven？</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第二节-什么是-maven" class="sidebar-link reco-side-第二节-什么是-maven" data-v-b57cc07c>第二节 什么是 Maven？</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第二章-maven-核心程序解压和配置" class="sidebar-link reco-side-第二章-maven-核心程序解压和配置" data-v-b57cc07c>第二章 Maven 核心程序解压和配置</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第一节-maven-核心解压与配置" class="sidebar-link reco-side-第一节-maven-核心解压与配置" data-v-b57cc07c>第一节 Maven 核心解压与配置</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第二节-配置环境变量" class="sidebar-link reco-side-第二节-配置环境变量" data-v-b57cc07c>第二节 配置环境变量</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第三章-使用-maven-命令行" class="sidebar-link reco-side-第三章-使用-maven-命令行" data-v-b57cc07c>第三章 使用 Maven：命令行</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验一-根据坐标创建-maven-工程" class="sidebar-link reco-side-实验一-根据坐标创建-maven-工程" data-v-b57cc07c>实验一：根据坐标创建 Maven 工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验二-在-maven-工程中编写代码" class="sidebar-link reco-side-实验二-在-maven-工程中编写代码" data-v-b57cc07c>实验二：在 Maven 工程中编写代码</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验三-执行-maven-的构建命令" class="sidebar-link reco-side-实验三-执行-maven-的构建命令" data-v-b57cc07c>实验三：执行 Maven 的构建命令</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验四-创建-maven-版的-web-工程" class="sidebar-link reco-side-实验四-创建-maven-版的-web-工程" data-v-b57cc07c>实验四： 创建 Maven 版的 Web 工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验五-让-web-工程依赖-java-工程" class="sidebar-link reco-side-实验五-让-web-工程依赖-java-工程" data-v-b57cc07c>实验五：让 Web 工程依赖 Java 工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验六-测试依赖范围" class="sidebar-link reco-side-实验六-测试依赖范围" data-v-b57cc07c>实验六：测试依赖范围</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验七-测试依赖的传递性" class="sidebar-link reco-side-实验七-测试依赖的传递性" data-v-b57cc07c>实验七：测试依赖的传递性</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验八-测试依赖的排除" class="sidebar-link reco-side-实验八-测试依赖的排除" data-v-b57cc07c>实验八：测试依赖的排除</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验九-继承" class="sidebar-link reco-side-实验九-继承" data-v-b57cc07c>实验九：继承</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#实验十-聚合" class="sidebar-link reco-side-实验十-聚合" data-v-b57cc07c>实验十：聚合</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第四章-使用-maven-idea" class="sidebar-link reco-side-第四章-使用-maven-idea" data-v-b57cc07c>第四章 使用 Maven：IDEA</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第一节-创建父工程" class="sidebar-link reco-side-第一节-创建父工程" data-v-b57cc07c>第一节 创建父工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第二节-配置-maven-信息" class="sidebar-link reco-side-第二节-配置-maven-信息" data-v-b57cc07c>第二节 配置 Maven 信息</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第三节-创建-java-模块工程" class="sidebar-link reco-side-第三节-创建-java-模块工程" data-v-b57cc07c>第三节 创建 Java 模块工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第四节-创建-web-模块工程" class="sidebar-link reco-side-第四节-创建-web-模块工程" data-v-b57cc07c>第四节 创建 Web 模块工程</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第五节-其他操作" class="sidebar-link reco-side-第五节-其他操作" data-v-b57cc07c>第五节 其他操作</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第五章-其他核心概念" class="sidebar-link reco-side-第五章-其他核心概念" data-v-b57cc07c>第五章 其他核心概念</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#_1、生命周期" class="sidebar-link reco-side-_1、生命周期" data-v-b57cc07c>1、生命周期</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#_2、插件和目标" class="sidebar-link reco-side-_2、插件和目标" data-v-b57cc07c>2、插件和目标</a></li><li class="level-3" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#_3、仓库" class="sidebar-link reco-side-_3、仓库" data-v-b57cc07c>3、仓库</a></li><li class="level-2" data-v-b57cc07c><a href="/vuepressblog/frontend/Maven-%E5%B0%9A%E7%A1%85%E8%B0%B7.html#第六章" class="sidebar-link reco-side-第六章" data-v-b57cc07c>第六章</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div></div><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/vuepressblog/assets/js/app.80634c63.js" defer></script><script src="/vuepressblog/assets/js/3.ef187fa4.js" defer></script><script src="/vuepressblog/assets/js/1.93e2b1ee.js" defer></script><script src="/vuepressblog/assets/js/32.1d419569.js" defer></script><script src="/vuepressblog/assets/js/9.76c7ad5c.js" defer></script>
  </body>
</html>
